<section id="cross" xreflabel="Cross Kickstarting">
<title> Cross Kickstarting </title>

<para>
Rocks supports heterogeneous clusters that contain nodes of different hardware
architectures with a process called cross-kickstarting.  To support an
architecture different than its own, a frontend needs to expand its local
distribution with additional packages.  This section describes how to install
distributions for other architectures on your frontend.
</para>

<para>
Start with a frontend node, as described by <xref linkend="install-frontend">,
or <xref linkend="upgrade-frontend">. Follow the instructions below for every
desired architecture. 
</para>

<para>
For this example, we assume the frontend is an x86 (32-bit) and the
compute nodes are x86_64 CPUs (64-bit).
</para>

<orderedlist>
<listitem>
<para>
Retrieve the required Rocks rolls for x86_64 (and optional rolls as desired)
</para>

<para>
For each roll, add it to the frontend's roll repository:
</para>

<screen>
# rocks add roll &lt;roll-name&gt;.iso
</screen>

</listitem>

<listitem>
<para>
Rebuild your distribution for the new architecture with the following flags. 
</para>

<screen>
# cd /home/install
# rocks-dist dist
# rocks-dist --arch=x86_64 dist
</screen>

<para>
The above assumes your frontend is running the i386 version of Rocks.
If your frontend is running the x86_64 version of Rocks and you want to support
i386-based nodes with the frontend, you'll execute:
</para>

<screen>
# cd /home/install
# rocks-dist dist
# rocks-dist --arch=i386 dist
</screen>

</listitem>

</orderedlist>

<para>
Now your frontend is prepared to cross-kickstart compute nodes and other
cluster appliances of different architectures.
</para>

<caution>
<para>
Rocks does not currently support PXE cross-kickstart installs; you must boot
non-native compute nodes from a native-architecture Rocks CD that
contains the Kernel Roll.
In the above example you must install a x86_64 compute node from an
x86_64 boot media instead of PXE.
</para>

</caution>

</section>

